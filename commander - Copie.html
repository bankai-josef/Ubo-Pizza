<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Commande en Ligne</title>
    <style>
        .menu {
            display: none;
        }
        .visible {
            display: block;
        }
    </style>
    <link rel="stylesheet" href="css/Untitled-2.css" type="text/css">
</head>
<body>
    <h1>Commande en Ligne</h1>

<!-- Catégorie Pizza -->
<h2 onclick="toggleMenu('pizza')">Pizza</h2>
<div id="pizza-menu" class="menu">
    <label>
        <input type="checkbox" name="pizza" value="10.00"> Pizza Margherita - 10.00€
    </label>
    <button onclick="addPizzaToCommande('Pizza Margherita', 10.00, 'Aucun', 'Aucune')">Ajouter</button>
    <br>
    <!-- Ajoutez d'autres pizzas ici -->
</div>

<!-- Catégorie Pâtes -->
<h2 onclick="toggleMenu('pates')">Pâtes</h2>
<div id="pates-menu" class="menu">
    <label>
        <input type="checkbox" name="pates" value="9.00"> Pâtes Carbonara - 9.00€
    </label>
    <button onclick="addPizzaToCommande('Pâtes Carbonara', 9.00, 'Aucun', 'Aucune')">Ajouter</button>
    <br>
    <!-- Ajoutez d'autres pâtes ici -->
</div>

<!-- Catégorie Burgers -->
<h2 onclick="toggleMenu('burgers')">Burgers</h2>
<div id="burgers-menu" class="menu">
    <label>
        <input type="checkbox" name="burgers" value="8.00"> Burger Classique - 8.00€
    </label>
    <button onclick="addPizzaToCommande('Burger Classique', 8.00, 'Aucun', 'Aucune')">Ajouter</button>
    <br>
    <!-- Ajoutez d'autres burgers ici -->
</div>
<!-- Catégorie Sandwich -->
<h2 onclick="toggleMenu('sandwich')">Sandwich</h2>
<div id="sandwich-menu" class="menu">
    <label>
        <input type="checkbox" name="sandwich" value="6.00"> Sandwich au Poulet - 6.00€
    </label>
    <button onclick="addPizzaToCommande('Sandwich au Poulet', 6.00)">Ajouter</button>
    <br>
    <label>
        <input type="checkbox" name="sandwich" value="5.50"> Sandwich au Thon - 5.50€
    </label>
    <button onclick="addPizzaToCommande('Sandwich au Thon', 5.50)">Ajouter</button>
    <!-- Ajoutez d'autres sandwichs ici -->
</div>
<!-- Catégorie Assiettes -->
<h2 onclick="toggleMenu('assiettes')">Assiettes</h2>
<div id="assiettes-menu" class="menu">
    <label>
        <input type="checkbox" name="assiettes" value="12.00"> Assiette de Poulet Grillé - 12.00€
    </label>
    <button onclick="addPizzaToCommande('Assiette de Poulet Grillé', 12.00)">Ajouter</button>
    <br>
    <label>
        <input type="checkbox" name="assiettes" value="14.00"> Assiette de Saumon - 14.00€
    </label>
    <button onclick="addPizzaToCommande('Assiette de Saumon', 14.00)">Ajouter</button>
    <!-- Ajoutez d'autres assiettes ici -->
</div>
<!-- Catégorie Dessert -->
<h2 onclick="toggleMenu('dessert')">Dessert</h2>
<div id="dessert-menu" class="menu">
    <label>
        <input type="checkbox" name="dessert" value="4.00"> Tiramisu - 4.00€
    </label>
    <button onclick="addPizzaToCommande('Tiramisu', 4.00)">Ajouter</button>
    <br>
    <label>
        <input type="checkbox" name="dessert" value="3.50"> Tarte au Daim - 3.50€
    </label>
    <button onclick="addPizzaToCommande('Tarte au Daim', 3.50)">Ajouter</button>
    <!-- Ajoutez d'autres desserts ici -->
</div>

<!-- Catégorie Boisson -->
<h2 onclick="toggleMenu('boisson')">Boisson</h2>
<div id="boisson-menu" class="menu">
    <label>
        <input type="checkbox" name="boisson" value="2.00"> Coca-Cola - 2.00€
    </label>
    <button onclick="addPizzaToCommande('Coca-Cola', 2.00)">Ajouter</button>
    <br>
    <label>
        <input type="checkbox" name="boisson" value="1.50"> Eau minérale - 1.50€
    </label>
    <button onclick="addPizzaToCommande('Eau minérale', 1.50)">Ajouter</button>
    <!-- Ajoutez d'autres boissons ici -->
</div>
<div id="panier">
    <h2>Panier</h2>
    <ul id="panier-liste"></ul>
</div>





    <!-- Répétez le même modèle pour les autres catégories (Pâtes, Assiettes, Milkshake, Burgers, Sandwich) -->

    <form>
        <div id="commande">
            <label for="total">Total à Payer :</label>
            <span id="total-text">0.00€</span>
            <button onclick="calculerTotal()">Calculer le Total</button>
            <button onclick="passerAuPaiement()">Passer au Paiement</button>
            <button onclick="resetCommande()">Réinitialiser la Commande</button>
        </div>
    </form>

    

    <script>
        var total = 0.00;
        var commande = [];
        var identifiantUnique = 1;

        function toggleMenu(categorie) {
            var menu = document.getElementById(categorie + "-menu");
            if (menu.style.display === "none" || menu.style.display === "") {
                menu.style.display = "block";
            } else {
                menu.style.display = "none";
            }
        }

        function addPizzaToCommande(nomArticle, prix) {
            commande.push({ nom: nomArticle, prix: prix, id: identifiantUnique });
            identifiantUnique++;

            var panierListe = document.getElementById("panier-liste");
            var pizzaItem = document.createElement("li");
            pizzaItem.textContent = nomArticle + " - " + prix.toFixed(2) + "€";
            
            var supprimerButton = document.createElement("button");
            supprimerButton.textContent = "Supprimer";
            supprimerButton.onclick = function() {
                supprimerPizzaFromCommande(nomArticle, prix);
            };
            
            pizzaItem.appendChild(supprimerButton);
            
            panierListe.appendChild(pizzaItem);

            calculerTotal();
        }

        function supprimerPizzaFromCommande(nomArticle, prix) {
            for (var i = 0; i < commande.length; i++) {
                if (commande[i].nom === nomArticle && commande[i].prix === prix) {
                    commande.splice(i, 1);
                    break;
                }
            }

            var panierListe = document.getElementById("panier-liste");
            var items = panierListe.getElementsByTagName("li");
            for (var i = 0; i < items.length; i++) {
                if (items[i].textContent.includes(nomArticle)) {
                    panierListe.removeChild(items[i]);
                    break;
                }
            }

            calculerTotal();
        }

        function resetCommande() {
            commande = [];
            var panierListe = document.getElementById("panier-liste");
            panierListe.innerHTML = "";

            var totalText = document.getElementById("total-text");
            totalText.textContent = "0.00€";
        }

        function calculerTotal() {
            total = commande.reduce(function (acc, pizza) {
                return acc + pizza.prix;
            }, 0);

            var totalText = document.getElementById("total-text");
            totalText.textContent = total.toFixed(2) + "€";
        }

        function passerAuPaiement() {
            var totalField = document.getElementById("total-text");
            var prixTotal = parseFloat(totalField.textContent);
            window.location.href = "page_de_paiement.html?total=" + prixTotal;
        }
    </script>
    
</body>
</html>
